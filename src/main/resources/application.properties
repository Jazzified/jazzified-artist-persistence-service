
spring.application.name=artist-persistence-service
spring.profiles.active=dev
spring.config.import=configserver:http://localhost:8888

logging.level.dev.tobiadegbuji.artistpersistenceservice=debug


spring.jpa.hibernate.ddl-auto=update
#spring.jpa.show-sql=true
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect


spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=password

spring.h2.console.enabled=true


#Indicates whether to expose the configuration over the actuator health point
resilience4j.circuitbreaker.instances.retrieveSpotifyArtist.register-health-indicator=true
#Setting buffer size at closed state
resilience4j.circuitbreaker.instances.retrieveSpotifyArtist.ring-buffer-size-in-closed-state= 5
#Setting buffer size in half-open state
resilience4j.circuitbreaker.instances.retrieveSpotifyArtist.ring-buffer-size-in-half-open-state=3
#—Sets the time the circuit breaker should wait before changing the status from open to half-open. The default value is 60,000 ms.
resilience4j.circuitbreaker.instances.retrieveSpotifyArtist.wait-duration-in-open-state=10s
#Sets failure rate threshold percentage. When the failure rate is greater than or equal to this threshold, the circuit breaker changes to the open state and starts short-circuiting calls
resilience4j.circuitbreaker.instances.retrieveSpotifyArtist.failure-rate-threshold=50
#Sers exceptions that should be recorded as failures. By default all exceptions are recorded as failures
resilience4j.circuitbreaker.instances.retrieveSpotifyArtist[0].record-exceptions= org.springframework.web.client.HttpServerErrorException
resilience4j.circuitbreaker.instances.retrieveSpotifyArtist[1].record-exceptions= java.io.IOException
resilience4j.circuitbreaker.instances.retrieveSpotifyArtist[2].record-exceptions= java.util.concurrent.TimeoutException
resilience4j.circuitbreaker.instances.retrieveSpotifyArtist[3].record-exceptions= org.springframework.web.client.ResourceAccessException

